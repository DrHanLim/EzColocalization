<project name="EzColocalization_" default="" basedir=".">
	<description>
        Test_Plugin build file
    </description>
	<property name="src" location="src/main/java" />
	<property name="build" location="bin" />
	<property name="dist" location="dist" />
	<property name="pluginName" location="EzColocalization_.jar" />
	<property name="pluginsDir" location="$basedir/../../IJ/plugins/" />
	<property name="user.name" value="Unknown" />
	<property name="version" value="1.0.0" />
	<property name="imagejVersion" value="1.50e" />

	<echo>
			Building the .property file.
	</echo>
	<tstamp>
		<format property="builtat" pattern="MM/dd/yyyy hh:mm aa" timezone="America/Los_Angeles" />
	</tstamp>
	<propertyfile file="bin/ezcol/files/project.properties" comment="This file is automatically generated - DO NOT EDIT">
		<entry key="buildtime" value="${builtat}" />
		<entry key="version" value="${version}" />
		<entry key="javaVersion" value="${java.version}" />
		<entry key="imagejVersion" value="${imagejVersion}" />
	</propertyfile>
	<propertyfile file="src/main/resources/project.properties" comment="This file is automatically generated - DO NOT EDIT">
		<entry key="buildtime" value="${builtat}" />
		<entry key="version" value="${version}" />
		<entry key="javaVersion" value="${java.version}" />
		<entry key="imagejVersion" value="${imagejVersion}" />
	</propertyfile>


	<target name="main" depends="compress" description="Main target">
		<echo>
		Building the .jar file.
	</echo>
	</target>
	<target name="compress" depends="" description="generate the distribution">
		<jar jarfile="${pluginName}">
			<fileset dir="." includes="plugins.config" />
			<fileset dir="${build}" includes="**/*.*" />
			<manifest>
				<attribute name="Built-By" value="${user.name}" />
			</manifest>
		</jar>
		<copy file="${pluginName}" toDir="${pluginsDir}" />

	</target>

	<echo>
			Copying the files in src.
	</echo>
	<copy todir="${build}">
		<fileset dir="${src}">
			<include name="**/*.jpg" />
			<include name="**/*.png" />
			<include name="**/*.tif" />
			<include name="**/*.gif" />
		</fileset>
	</copy>

</project>